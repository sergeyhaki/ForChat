
/*конечно, вот пример кода FIR-фильтра на языке Си, который использует целочисленную арифметику с 16-битными целыми числами:```c*/

#define N 3 // порядок фильтра
int h[N] = {32767, 0, -32767}; // импульсная характеристика фильтра

int fir_filter(int x) {  
static int shift_reg[N]; // сдвиговый регистр  
int y = 0; // выходной сигнал  

// Перемещаем данные в регистр и вычисляем выходной сигнал  
shift_reg[0] = x;  

for (int i = 0; i < N; i++) {    y += h[i] * shift_reg[i];  } 

 // Сдвигаем регистр  
for (int i = N - 1; i > 0; i--) {    
shift_reg[i] = shift_reg[i-1];  
}    
return y >> 15; // Возвращаем результат, деленный на 2^15-1 (нормировка)
}

/*Реализация аналогична предыдущему коду, но использует 16-битные целые числа для хранения входных и выходных данных, а также арифметических операций. Основной разницей является правило нормировки результата: результат функции делится на 2^15-1 (максимальное значение для 16-битных целых чисел), чтобы привести его к диапазону от -1 до 1.Эта реализация также может быть вызвана многократно, подавая новые значения сигнала и получая фильтрованный сигнал на выходе.*/